{"version":3,"sources":["services/person.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","components/App.js","index.js"],"names":["baseUrl","getAll","a","axios","get","data","create","noteObj","post","update","id","put","remove","delete","Filter","searchName","setSearchName","htmlFor","type","name","value","onChange","e","target","PersonForm","newName","setNewName","newNumber","setNewNumber","onSubmit","style","display","Persons","persons","filter","person","toLowerCase","includes","map","number","onClick","Notification","message","border","borderRadius","color","backgroundColor","padding","msg","App","useState","setPersons","notification","setNotification","useEffect","personService","getData","preventDefault","some","confirmation","window","confirm","find","p","undefined","concat","setTimeout","newPersons","console","log","className","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.381673d6.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst getAll = async () => {\n    const { data } = await axios.get(baseUrl);\n    return data;\n}\n\nconst create = async (noteObj) => {\n    const { data } = await axios.post(baseUrl, noteObj);\n    return data;\n}\n\nconst update = async (id, noteObj) => {\n    const { data } = await axios.put(`${baseUrl}/${id}`, noteObj);\n    return data;\n}\n\nconst remove = async (id) => {\n    await axios.delete(`${baseUrl}/${id}`);\n}\n\nexport default {getAll, create, update, remove};","import React from 'react'\n\nconst Filter = ({ searchName, setSearchName }) => {\n    return (\n      <>\n        <label htmlFor={'search'}>filter shown with </label>\n        <input\n          type='text'\n          name='search'\n          id='search'\n          value={searchName}\n          onChange={(e) => setSearchName(e.target.value)}\n        />\n      </>\n    );\n};\n\nexport default Filter;","import React from 'react'\n\nconst PersonForm = ({\n    newName,\n    setNewName,\n    newNumber,\n    setNewNumber,\n    onSubmit,\n  }) => {\n    return (\n      <>\n        <form onSubmit={onSubmit}>\n          <label htmlFor='name'>Name: </label>\n          <input\n            type='text'\n            name='name'\n            id='name'\n            value={newName}\n            onChange={(e) => setNewName(e.target.value)}\n          />\n          <br />\n          <label htmlFor={'number'}>Number: </label>\n          <input\n            type='tel'\n            name='number'\n            id='number'\n            value={newNumber}\n            onChange={(e) => setNewNumber(e.target.value)}\n          />\n          <button style={{ display: 'block' }} type='submit'>\n            add\n          </button>\n        </form>\n      </>\n    );\n};\n\nexport default PersonForm;","import React from 'react'\n\nconst Persons = ({ persons, searchName, remove }) => {\n    return (\n      <ul>\n        {persons\n          .filter((person) => person.name.toLowerCase().includes(searchName.toLowerCase()))\n          .map((person) => (\n            <li key={person.name}>\n              {person.name} {person.number}\n              <button onClick={() => remove(person.id)}>delete</button>\n            </li>\n          ))}\n      </ul>\n    );\n};\n\nexport default Persons;\n","import React from 'react'\n\nconst Notification = ({message}) => {\n    const successStyle = {\n        border: '2px solid green',\n        borderRadius: '15px',\n        color: 'green',\n        backgroundColor: 'lightgray',\n        padding: '1.5rem'\n    }\n    const errorStyle = {\n        border: '2px solid red',\n        borderRadius: '15px',\n        color: 'red',\n        backgroundColor: 'lightgray',\n        padding: '1.5rem'\n    }\n\n    if (!message) return null;\n\n    return (\n        <div style={message.type === 'success' ? successStyle : errorStyle}>\n            {message.msg}\n        </div>\n    )\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport personService from '../services/person';\n\nimport Filter from './Filter';\nimport PersonForm from './PersonForm';\nimport Persons from './Persons';\nimport Notification from './Notification';\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [searchName, setSearchName] = useState('');\n  const [notification, setNotification] = useState(null); \n\n  useEffect(() => {\n    const getData = async () => {\n      const data = await personService.getAll();\n      setPersons(data);\n    }\n    getData();\n  }, []);\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    let confirmation;\n    if (persons.some((person) => person.name.toLowerCase() === newName.toLowerCase())) {\n      confirmation = window.confirm(`${newName} is already added to phonebook. do you want to replace it?`)\n    }\n\n    if (confirmation) {\n      const person = persons.find(p => p.name === newName);\n      const data = await personService.update(person.id, { name: newName, number: newNumber });\n      setPersons(persons.map(p => person.id === p.id ? data : p));\n      setNotification ({msg: 'Updated', type: 'success'});\n    } else if (confirmation === undefined) {\n      const data = await personService.create({ name: newName, number: newNumber });\n      setPersons(persons.concat(data));\n      setNotification ({msg: 'Added', type: 'success'});\n    }\n\n    setTimeout(() => setNotification(null), 5000);\n    \n    setNewName('');\n    setNewNumber('');\n    \n  };\n\n  const remove = async (id) => {\n    const confirmation = window.confirm(`Delete this person?`);\n    if (confirmation) {\n      try {\n        await personService.remove(id);\n        const newPersons = persons.filter(p => p.id !== id);\n        setPersons(newPersons);\n        setNotification ({msg: 'Deleted', type: 'success'});\n      } catch(e) {\n        console.log(e);\n        setNotification ({msg: 'Failed to delete', type: 'error'});\n      }\n      setTimeout(() => setNotification(null), 5000);\n    }\n  }\n\n  return (\n    <div className='App'>\n      <h2>Phonebook</h2>\n      <Notification message={notification} />\n      <Filter searchName={searchName} setSearchName={setSearchName} />\n      <PersonForm\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n        onSubmit={onSubmit}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} searchName={searchName} remove={remove} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}